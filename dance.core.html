<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>dance.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Dance</span> <span class="project-version">0.1.4</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to dance</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dance</span></div></div></li><li class="depth-2 branch"><a href="dance.choreography.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>choreography</span></div></a></li><li class="depth-2 branch current"><a href="dance.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><a href="dance.floor.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>floor</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="dance.core.html#var-*default-dance*"><div class="inner"><span>*default-dance*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-adapt-dance-fns"><div class="inner"><span>adapt-dance-fns</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-add-to-right-context"><div class="inner"><span>add-to-right-context</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-atomic-dance.3F"><div class="inner"><span>atomic-dance?</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-atomic-dances"><div class="inner"><span>atomic-dances</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-backtrack"><div class="inner"><span>backtrack</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-backtrack.3F"><div class="inner"><span>backtrack?</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-backtracking-dance"><div class="inner"><span>backtracking-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-break-dance.21"><div class="inner"><span>break-dance!</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-context-walk"><div class="inner"><span>context-walk</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-ctx-.3E.7C"><div class="inner"><span>ctx-&gt;|</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-ctx-comp"><div class="inner"><span>ctx-comp</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-dance"><div class="inner"><span>dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-dance-impl"><div class="inner"><span>dance-impl</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-dance-name"><div class="inner"><span>dance-name</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-def-collecting-dance"><div class="inner"><span>def-collecting-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-defdance"><div class="inner"><span>defdance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-dependent-dances"><div class="inner"><span>dependent-dances</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-depth-dance"><div class="inner"><span>depth-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-depth-dance*"><div class="inner"><span>depth-dance*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-empty-dance"><div class="inner"><span>empty-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-free-symbols-collecting-dance"><div class="inner"><span>free-symbols-collecting-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-free-symbols-collecting-dance*"><div class="inner"><span>free-symbols-collecting-dance*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-free-symbols-tracking-dance"><div class="inner"><span>free-symbols-tracking-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-free-symbols-tracking-dance*"><div class="inner"><span>free-symbols-tracking-dance*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-get-right-context"><div class="inner"><span>get-right-context</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-indexed-dance"><div class="inner"><span>indexed-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-indexed-dance*"><div class="inner"><span>indexed-dance*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-leafs-collecting-dance"><div class="inner"><span>leafs-collecting-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-leafs-collecting-dance*"><div class="inner"><span>leafs-collecting-dance*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-locals-tracking-dance"><div class="inner"><span>locals-tracking-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-locals-tracking-dance--fn*-multiple-bodies*"><div class="inner"><span>locals-tracking-dance--fn*-multiple-bodies*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-locals-tracking-dance--fn*-single-body*"><div class="inner"><span>locals-tracking-dance--fn*-single-body*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-locals-tracking-dance--handle-locals-from-left*"><div class="inner"><span>locals-tracking-dance--handle-locals-from-left*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-locals-tracking-dance--let*-loop*-letfn*-binding-sym-expr*"><div class="inner"><span>locals-tracking-dance--let*-loop*-letfn*-binding-sym-expr*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-locals-tracking-dance--let*-loop*-letfn*-binding-vec*"><div class="inner"><span>locals-tracking-dance--let*-loop*-letfn*-binding-vec*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-locals-tracking-dance--top-level*"><div class="inner"><span>locals-tracking-dance--top-level*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-map-entry"><div class="inner"><span>map-entry</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-merge-dances"><div class="inner"><span>merge-dances</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-not-processing-quoted-forms-dance"><div class="inner"><span>not-processing-quoted-forms-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-not-processing-quoted-forms-dance*"><div class="inner"><span>not-processing-quoted-forms-dance*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-original-form-dance"><div class="inner"><span>original-form-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-original-form-dance*"><div class="inner"><span>original-form-dance*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-parent-dance"><div class="inner"><span>parent-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-parent-dance*"><div class="inner"><span>parent-dance*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-parents-dance"><div class="inner"><span>parents-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-parents-dance*"><div class="inner"><span>parents-dance*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-path-dance"><div class="inner"><span>path-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-path-dance*"><div class="inner"><span>path-dance*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-reluctant-macroexpanding-dance"><div class="inner"><span>reluctant-macroexpanding-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-reluctant-macroexpanding-dance*"><div class="inner"><span>reluctant-macroexpanding-dance*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-right-context-dance"><div class="inner"><span>right-context-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-right-context-dance*"><div class="inner"><span>right-context-dance*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-splice"><div class="inner"><span>splice</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-splicing-dance"><div class="inner"><span>splicing-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-splicing-dance*"><div class="inner"><span>splicing-dance*</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-step"><div class="inner"><span>step</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-step-indexed"><div class="inner"><span>step-indexed</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-subdances"><div class="inner"><span>subdances</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-update-right-context"><div class="inner"><span>update-right-context</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-with-context"><div class="inner"><span>with-context</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-with-context-dance"><div class="inner"><span>with-context-dance</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-with-context.3F"><div class="inner"><span>with-context?</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-with-dance-impl"><div class="inner"><span>with-dance-impl</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-with-dance-name"><div class="inner"><span>with-dance-name</span></div></a></li><li class="depth-1"><a href="dance.core.html#var-with-dependent-dances"><div class="inner"><span>with-dependent-dances</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">dance.core</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-*default-dance*"><h3>*default-dance*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-adapt-dance-fns"><h3>adapt-dance-fns</h3><div class="usage"><code>(adapt-dance-fns dance)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-add-to-right-context"><h3>add-to-right-context</h3><div class="usage"><code>(add-to-right-context ctx &amp; kvs)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-atomic-dance.3F"><h3>atomic-dance?</h3><div class="usage"><code>(atomic-dance? dance)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-atomic-dances"><h3>atomic-dances</h3><div class="usage"><code>(atomic-dances dance)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-backtrack"><h3>backtrack</h3><div class="usage"><code>(backtrack form)</code><code>(backtrack form ctx)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-backtrack.3F"><h3>backtrack?</h3><div class="usage"><code>(backtrack? ctx)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-backtracking-dance"><h3>backtracking-dance</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-break-dance.21"><h3>break-dance!</h3><div class="usage"><code>(break-dance! form)</code><code>(break-dance! form ctx)</code></div><div class="doc"><div class="markdown"><p>Used to immediately return a value during a <a href="dance.core.html#var-dance">dance</a>. Can be used in any of the dance fns.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-context-walk"><h3>context-walk</h3><div class="usage"><code>(context-walk step inner outer form context)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-ctx-.3E.7C"><h3>ctx-&gt;|</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-ctx-comp"><h3>ctx-comp</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-dance"><h3>dance</h3><div class="usage"><code>(dance form &amp; args)</code></div><div class="doc"><div class="markdown"><p>A finely tunable, composable, equivalent of clojure.walk with enhancements.</p>
<p>For a demo, just run</p>
<pre><code class="language-clojure">(dance
  '(+ 1 (- 2 (* 3 (/ 4 5) (dec 3))))
  :walk?          #(and (seq? %) (-&gt; % first (not= 'dec)))
  :pre?           #(and (seq? %) (-&gt; % first (not= '/)))
  :pre            vec
  :post?          number?
  :post           (fn [x ctx] [(inc x) (update ctx :cnt inc)])
  :context        {:cnt 0}
  :return         :form-and-context
  :debug          true
  )
</code></pre>
<h4><a href="#dance-fns" id="dance-fns"></a>Dance fns</h4>
<p>See <a href="https://en.wikipedia.org/wiki/Tree_traversal">https://en.wikipedia.org/wiki/Tree_traversal</a></p>
<p>Namely <code>walk?</code>, <code>pre?</code>, <code>pre</code>, <code>post?</code>, <code>post</code>, <code>before</code>, <code>after</code>, <code>before-all</code> and <code>after-all</code>.</p>
<p><code>pre?</code> and <code>post?</code> respectively condition <code>pre</code> and <code>post</code> while the walk of the substructure itself occurs in between and is conditioned by <code>walk?</code>. <code>before</code>and <code>after</code> are respectively called before and after any node is processed (before <code>pre</code>) while <code>before-all</code> and <code>after-all</code> are called once, at the beginning and the end of the walk.</p>
<p>Traversal appears to occur in pre-order for <code>before</code>, <code>walk?</code> <code>pre?</code> and <code>pre</code>, but in post-order for <code>post?</code>, <code>post</code> and <code>after</code>.</p>
<p>Note that nodes that will not be walked may still be processed by <code>pre</code> and <code>post</code>.</p>
<h4><a href="#context" id="context"></a>Context</h4>
<p>Dance fns can have 1 argument (the node at hand) or 2, in order to receive an optional, latent context. If so, they must return a vector like <code>[result context]</code> where <code>result</code> can be a processed substructure (<code>pre</code>, <code>post</code>, …) or the return value of a predicate (<code>pre?</code>, <code>post?</code>, …).</p>
<p>This context is passed walking down the structure from node to subnodes then back to the parent nodes up to the initial root in a depth-first manner.</p>
<p>By default, it is global to the walk and is not scoped by the depth at which it being accessed. In other words, the context is passed from siblings to siblings in the order of the walk and modifications done to it when walking a node can be seen when walking the sister nodes, their children and eventually their ancestors.</p>
<p>However the <code>:scoped</code> option can be used to specify which keys in the context should be scoped to the current node and its children and not thread through the whole traversal. More specifically parents pass the context to their children and changes made by the children are not visibile by their ancestors or siblings.</p>
<p>Note that variadic arguments functions count as single-argument to accomodate for functions like <code>constantly</code>, and thus cannot receive a context.</p>
<h4><a href="#merging-dances" id="merging-dances"></a>Merging dances</h4>
<p>Multiple dances can be passed to <code>dance</code>, including a varargs dance:</p>
<pre><code class="language-clojure">(dance collection
  first-dance
  second-dance
  :before third-dance-before
  :after  third-dance-after)
</code></pre>
<p>Options in these dance will be merged in a smart way according to this plan:</p>
<pre><code>- before, pre : composed from left to right
- after, post : composed from right to left
- pre?, walk? : composed like `and`, from left to right
- post?       : composed like `and`, but from right to left.
- context     : composed with `merge`
- scoped      : composed with `#(clojure.set/union (set %1) (set %2))`
</code></pre>
<p><code>:debug</code>, <code>:return</code>, and <code>:step</code> are merged normally, i.e. via right-most preference.</p>
<h4><a href="#early-return" id="early-return"></a>Early return</h4>
<p>At any moment, from within any of the dance fns, <a href="dance.core.html#var-break-dance.21">break-dance!</a> can be used to halt the execution, returning the given form (and optional context). Consider:</p>
<pre><code class="language-clojure">(dance [1 2 3 4 5 6]
  :pre? number?
  :pre (fn [x]
          (if (&gt; x 4)
            (break-dance! :abc)
            (println x))))
=&gt; :abc
</code></pre>
<h4><a href="#additional-options" id="additional-options"></a>Additional options</h4>
<ul>
<li><code>context</code>                : The initial context (defaults to <code>{}</code>)</li>
<li><code>return</code>                 : <code>:form</code>, <code>:form-and-context</code> or <code>:context</code> (:form).</li>
<li><code>step</code>                   : low-level option. See <a href="dance.core.html#var-step">step</a> and <a href="dance.core.html#var-step-indexed">step-indexed</a>. Defaults to <a href="dance.core.html#var-step">step</a></li>
<li><code>depth</code>                  : The intial depth. Determines tabulation (<code>0</code>) when debugging.</li>
<li><code>debug</code>                  : To print a detailed trace of the walk (<code>false</code>).</li>
<li><code>debug-depth</code>            : To limit the debug trace to a certain depth.</li>
<li><code>debug-context-blacklist</code>: To mask certain context keys when debugging.</li>
<li><code>debug-context-whitelist</code>: To display only certain context keys.</li>
</ul>
<p>Any option passed to <code>dance</code> is optional, including the dance fns.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-dance-impl"><h3>dance-impl</h3><div class="usage"><code>(dance-impl dance)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-dance-name"><h3>dance-name</h3><div class="usage"><code>(dance-name dance)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-def-collecting-dance"><h3>def-collecting-dance</h3><h4 class="type">macro</h4><div class="usage"><code>(def-collecting-dance nme &amp; args)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-defdance"><h3>defdance</h3><h4 class="type">macro</h4><div class="usage"><code>(defdance nme &amp; args)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-dependent-dances"><h3>dependent-dances</h3><div class="usage"><code>(dependent-dances dance)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-depth-dance"><h3>depth-dance</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A dance that keeps track of the depth of the traversal. Context key: :depth.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-depth-dance*"><h3>depth-dance*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="dance.core.html#var-depth-dance">depth-dance</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-empty-dance"><h3>empty-dance</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-free-symbols-collecting-dance"><h3>free-symbols-collecting-dance</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-free-symbols-collecting-dance*"><h3>free-symbols-collecting-dance*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="dance.core.html#var-free-symbols-collecting-dance">free-symbols-collecting-dance</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-free-symbols-tracking-dance"><h3>free-symbols-tracking-dance</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Accepts an optional :bound-sym? function in the context.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-free-symbols-tracking-dance*"><h3>free-symbols-tracking-dance*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="dance.core.html#var-free-symbols-tracking-dance">free-symbols-tracking-dance</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-get-right-context"><h3>get-right-context</h3><div class="usage"><code>(get-right-context ctx)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-indexed-dance"><h3>indexed-dance</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A dance that keeps track of the index the current nodes resides at in its parent node. The index can be either a number for list/vectors or anything else for maps. Context key: :index.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-indexed-dance*"><h3>indexed-dance*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="dance.core.html#var-indexed-dance">indexed-dance</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-leafs-collecting-dance"><h3>leafs-collecting-dance</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-leafs-collecting-dance*"><h3>leafs-collecting-dance*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="dance.core.html#var-leafs-collecting-dance">leafs-collecting-dance</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-locals-tracking-dance"><h3>locals-tracking-dance</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-locals-tracking-dance--fn*-multiple-bodies*"><h3>locals-tracking-dance--fn*-multiple-bodies*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="null">locals-tracking-dance–fn*-multiple-bodies</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-locals-tracking-dance--fn*-single-body*"><h3>locals-tracking-dance--fn*-single-body*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="null">locals-tracking-dance–fn*-single-body</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-locals-tracking-dance--handle-locals-from-left*"><h3>locals-tracking-dance--handle-locals-from-left*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="null">locals-tracking-dance–handle-locals-from-left</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-locals-tracking-dance--let*-loop*-letfn*-binding-sym-expr*"><h3>locals-tracking-dance--let*-loop*-letfn*-binding-sym-expr*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="null">locals-tracking-dance–let*-loop*-letfn*-binding-sym-expr</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-locals-tracking-dance--let*-loop*-letfn*-binding-vec*"><h3>locals-tracking-dance--let*-loop*-letfn*-binding-vec*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="null">locals-tracking-dance–let*-loop*-letfn*-binding-vec</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-locals-tracking-dance--top-level*"><h3>locals-tracking-dance--top-level*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="null">locals-tracking-dance–top-level</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-map-entry"><h3>map-entry</h3><div class="usage"><code>(map-entry x)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-merge-dances"><h3>merge-dances</h3><div class="usage"><code>(merge-dances &amp; dances)</code></div><div class="doc"><div class="markdown"><p>Merges multiples dances together. A dance is a hash of arguments to <a href="dance.core.html#var-dance">dance</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-not-processing-quoted-forms-dance"><h3>not-processing-quoted-forms-dance</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-not-processing-quoted-forms-dance*"><h3>not-processing-quoted-forms-dance*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="dance.core.html#var-not-processing-quoted-forms-dance">not-processing-quoted-forms-dance</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-original-form-dance"><h3>original-form-dance</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-original-form-dance*"><h3>original-form-dance*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="dance.core.html#var-original-form-dance">original-form-dance</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-parent-dance"><h3>parent-dance</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A dance that keeps track of the parent node. Context keys: :parent (:next-parent).</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-parent-dance*"><h3>parent-dance*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="dance.core.html#var-parent-dance">parent-dance</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-parents-dance"><h3>parents-dance</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A dance that keeps track of the parent nodes, in genealogic order (parent, grand-parent, …). Context keys: :parents (:next-parent).</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-parents-dance*"><h3>parents-dance*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="dance.core.html#var-parents-dance">parents-dance</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-path-dance"><h3>path-dance</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A dance that keeps track of the path from the root of the datastructure to the current node. To use a path to find back the node it leads to, use shuriken.core/get-nth-in and sister functions since contrary to get-in, assoc, etc …, they support traversing sequences. Context key: :path.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-path-dance*"><h3>path-dance*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="dance.core.html#var-path-dance">path-dance</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-reluctant-macroexpanding-dance"><h3>reluctant-macroexpanding-dance</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-reluctant-macroexpanding-dance*"><h3>reluctant-macroexpanding-dance*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="dance.core.html#var-reluctant-macroexpanding-dance">reluctant-macroexpanding-dance</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-right-context-dance"><h3>right-context-dance</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-right-context-dance*"><h3>right-context-dance*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="dance.core.html#var-right-context-dance">right-context-dance</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-splice"><h3>splice</h3><div class="usage"><code>(splice form)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-splicing-dance"><h3>splicing-dance</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-splicing-dance*"><h3>splicing-dance*</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>See <a href="dance.core.html#var-splicing-dance">splicing-dance</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-step"><h3>step</h3><div class="usage"><code>(step form {:keys [initial-acc initial-context wrap inner outer]})</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-step-indexed"><h3>step-indexed</h3><div class="usage"><code>(step-indexed form {:keys [initial-acc initial-context wrap inner outer]})</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-subdances"><h3>subdances</h3><div class="usage"><code>(subdances dance)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-update-right-context"><h3>update-right-context</h3><div class="usage"><code>(update-right-context ctx k f &amp; args)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-with-context"><h3>with-context</h3><div class="usage"><code>(with-context ctx)</code><code>(with-context form ctx)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-with-context-dance"><h3>with-context-dance</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-with-context.3F"><h3>with-context?</h3><div class="usage"><code>(with-context? form)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-with-dance-impl"><h3>with-dance-impl</h3><h4 class="type">macro</h4><div class="usage"><code>(with-dance-impl impl dance)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-with-dance-name"><h3>with-dance-name</h3><h4 class="type">macro</h4><div class="usage"><code>(with-dance-name dance-name dance)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div><div class="public anchor" id="var-with-dependent-dances"><h3>with-dependent-dances</h3><h4 class="type">macro</h4><div class="usage"><code>(with-dependent-dances dependent-dances dance)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/dance/">view source</a></div></div></div></body></html>